<!DOCTYPE html>
<html>
<head>
<title>Aakashvaani.AI üéôÔ∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
    font-family:sans-serif;
    background:#111;
    color:white;
    text-align:center;
    padding:20px;
}

textarea{
    width:100%;
    height:160px;
    margin:10px 0;
    background:#222;
    color:white;
    padding:10px;
    border-radius:5px;
    border:none;
    font-size:16px;
}

select, button{
    padding:10px;
    margin:6px;
    font-size:16px;
}

button{
    background:#00ff88;
    border:none;
    cursor:pointer;
    border-radius:5px;
}

audio{
    margin-top:20px;
    width:100%;
}
</style>
</head>

<body>

<h1>üéôÔ∏è Aakashvaani.AI</h1>
<p>Free Multi-Voice Text To Speech Generator</p>

<form id="voiceForm">
    <textarea name="text" id="textInput" placeholder="Text paste kare Gurudev..."></textarea>
    <br>

    <select name="voice" id="voiceSelect">
        <option value="en-IN-PrabhatNeural">Hindi Male</option>
        <option value="en-IN-NeerjaNeural">Hindi Female</option>
        <option value="en-US-GuyNeural">Story Mode</option>
        <option value="en-US-JennyNeural">Friendly Voice</option>
        <option value="en-GB-RyanNeural">News Anchor</option>
    </select>

    <br>
    <button type="submit">Generate Voice üî•</button>
</form>

<div id="audioContainer"></div>

<script>
const form = document.getElementById('voiceForm');

form.addEventListener('submit', async (e) => {
    e.preventDefault();  // prevent page reload

    const text = document.getElementById('textInput').value;
    const voice = document.getElementById('voiceSelect').value;

    const formData = new FormData();
    formData.append('text', text);
    formData.append('voice', voice);

    const res = await fetch('/tts', {
        method: 'POST',
        body: formData
    });

    const data = await res.json();

    if(data.audio){
        const audioContainer = document.getElementById('audioContainer');
        audioContainer.innerHTML = `
            <h3>Preview üéß</h3>
            <audio controls autoplay>
                <source src="${data.audio}" type="audio/mpeg">
            </audio>
            <br><br>
            <a href="${data.audio}" download>
                <button>Download MP3 ‚¨á</button>
            </a>
        `;
    } else {
        alert("Audio generate nahi hua Gurudev üòÖ");
    }
});
</script>

</body>
</html>
